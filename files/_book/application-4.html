<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Lecture 10 Application-4 | Mostly Handsdirty Econometrics</title>
<meta name="author" content="Shishir Shakya">
<meta name="description" content="10.1 Case study, growth of portfolio  Case-1: Reproduce the following columns from 4 to 7 using R codes. r R = (1+r) t Year1 Year2 Year3 Year4 Cumulative (1) (2) (3) (4) (5) (6) (7) (8) \(-0.05\)...">
<meta name="generator" content="bookdown 0.27 with bs4_book()">
<meta property="og:title" content="Lecture 10 Application-4 | Mostly Handsdirty Econometrics">
<meta property="og:type" content="book">
<meta property="og:description" content="10.1 Case study, growth of portfolio  Case-1: Reproduce the following columns from 4 to 7 using R codes. r R = (1+r) t Year1 Year2 Year3 Year4 Cumulative (1) (2) (3) (4) (5) (6) (7) (8) \(-0.05\)...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Lecture 10 Application-4 | Mostly Handsdirty Econometrics">
<meta name="twitter:description" content="10.1 Case study, growth of portfolio  Case-1: Reproduce the following columns from 4 to 7 using R codes. r R = (1+r) t Year1 Year2 Year3 Year4 Cumulative (1) (2) (3) (4) (5) (6) (7) (8) \(-0.05\)...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.0/transition.js"></script><script src="libs/bs3compat-0.4.0/tabs.js"></script><script src="libs/bs3compat-0.4.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Mostly Handsdirty Econometrics</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Set up</a></li>
<li><a class="" href="data-types-structures-and-extractions.html"><span class="header-section-number">2</span> Data types, structures, and extractions</a></li>
<li><a class="" href="sampling.html"><span class="header-section-number">3</span> Sampling</a></li>
<li><a class="" href="for-loop-and-probability.html"><span class="header-section-number">4</span> For loop and probability</a></li>
<li><a class="" href="if-else-and-probability.html"><span class="header-section-number">5</span> If else and probability</a></li>
<li><a class="" href="basic-statistics.html"><span class="header-section-number">6</span> Basic statistics</a></li>
<li><a class="" href="application-1.html"><span class="header-section-number">7</span> Application-1</a></li>
<li><a class="" href="application-2.html"><span class="header-section-number">8</span> Application-2</a></li>
<li><a class="" href="application-3.html"><span class="header-section-number">9</span> Application-3</a></li>
<li><a class="active" href="application-4.html"><span class="header-section-number">10</span> Application-4</a></li>
<li><a class="" href="confidence-interval-z-scores-hypothesis-testing.html"><span class="header-section-number">11</span> Confidence interval, z-scores, hypothesis testing</a></li>
<li><a class="" href="unconstrainted-optimization.html"><span class="header-section-number">12</span> Unconstrainted optimization</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/rstudio/bookdown-demo">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="application-4" class="section level1" number="10">
<h1>
<span class="header-section-number">Lecture 10</span> Application-4<a class="anchor" aria-label="anchor" href="#application-4"><i class="fas fa-link"></i></a>
</h1>
<div id="case-study-growth-of-portfolio" class="section level2" number="10.1">
<h2>
<span class="header-section-number">10.1</span> Case study, growth of portfolio<a class="anchor" aria-label="anchor" href="#case-study-growth-of-portfolio"><i class="fas fa-link"></i></a>
</h2>
<blockquote>
<p>Case-1: Reproduce the following columns from 4 to 7 using R codes.</p>
</blockquote>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="15%">
<col width="15%">
<col width="15%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="center">r</th>
<th align="center">R = (1+r)</th>
<th align="center">t</th>
<th align="right">Year1</th>
<th align="right">Year2</th>
<th align="right">Year3</th>
<th align="right">Year4</th>
<th align="right">Cumulative</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">(1)</td>
<td align="center">(2)</td>
<td align="center">(3)</td>
<td align="right">(4)</td>
<td align="right">(5)</td>
<td align="right">(6)</td>
<td align="right">(7)</td>
<td align="right">(8)</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(-0.05\)</span></td>
<td align="center"><span class="math inline">\(0.95\)</span></td>
<td align="center"><span class="math inline">\(1\)</span></td>
<td align="right"><span class="math inline">\(0.95\)</span></td>
<td align="right"><span class="math inline">\(0\)</span></td>
<td align="right"><span class="math inline">\(0\)</span></td>
<td align="right"><span class="math inline">\(0\)</span></td>
<td align="right"><span class="math inline">\(0.95\)</span></td>
</tr>
<tr class="odd">
<td align="center"><span class="math inline">\(0.1\)</span></td>
<td align="center"><span class="math inline">\(1.1\)</span></td>
<td align="center"><span class="math inline">\(2\)</span></td>
<td align="right"><span class="math inline">\(0.95 \times 1.1 = 1.045\)</span></td>
<td align="right"><span class="math inline">\(1.1\)</span></td>
<td align="right"><span class="math inline">\(0\)</span></td>
<td align="right"><span class="math inline">\(0\)</span></td>
<td align="right"><span class="math inline">\(2.145\)</span></td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(0.2\)</span></td>
<td align="center"><span class="math inline">\(1.2\)</span></td>
<td align="center"><span class="math inline">\(3\)</span></td>
<td align="right"><span class="math inline">\(0.95 \times 1.1 \times 1.2 = 1.254\)</span></td>
<td align="right"><span class="math inline">\(1.1 \times 1.2 = 1.32\)</span></td>
<td align="right"><span class="math inline">\(1.1\)</span></td>
<td align="right"><span class="math inline">\(0\)</span></td>
<td align="right"><span class="math inline">\(3.674\)</span></td>
</tr>
<tr class="odd">
<td align="center"><span class="math inline">\(0.3\)</span></td>
<td align="center"><span class="math inline">\(1.3\)</span></td>
<td align="center"><span class="math inline">\(4\)</span></td>
<td align="right"><span class="math inline">\(0.95 \times 1.1 \times 1.2 \times 1.3 = 1.643\)</span></td>
<td align="right"><span class="math inline">\(1.1 \times 1.2 \times 1.3 = 1.716\)</span></td>
<td align="right"><span class="math inline">\(1.2 \times 1.3 = 1.56\)</span></td>
<td align="right"><span class="math inline">\(1.3\)</span></td>
<td align="right"><span class="math inline">\(6.219\)</span></td>
</tr>
</tbody>
</table></div>
<p>Lets do it in very inefficient way first to develop intuition.</p>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># This one is column (1)</span></span>
<span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.05</span>, <span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span><span class="op">)</span></span>
<span><span class="co"># This is column (2)</span></span>
<span><span class="va">R</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">+</span> <span class="va">r</span></span>
<span></span>
<span><span class="co"># To find the column (4)</span></span>
<span><span class="va">c4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html">cumprod</a></span><span class="op">(</span><span class="va">R</span><span class="op">)</span></span>
<span><span class="va">c4</span></span>
<span><span class="co">#&gt; [1] 0.9500 1.0450 1.2540 1.6302</span></span>
<span></span>
<span><span class="co"># To find the column (5), we have to think slightly carefully.</span></span>
<span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span><span class="op">)</span></span>
<span><span class="va">R</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">+</span> <span class="va">r</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cumsum.html">cumprod</a></span><span class="op">(</span><span class="va">R</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1.100 1.320 1.716</span></span>
<span><span class="va">c5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html">cumprod</a></span><span class="op">(</span><span class="va">R</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">c5</span></span>
<span><span class="co">#&gt; [1] 0.000 1.100 1.320 1.716</span></span>
<span></span>
<span><span class="co"># To find the column (6), we have to think slightly carefully.</span></span>
<span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.3</span><span class="op">)</span></span>
<span><span class="va">R</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">+</span> <span class="va">r</span></span>
<span><span class="va">c6</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fu"><a href="https://rdrr.io/r/base/cumsum.html">cumprod</a></span><span class="op">(</span><span class="va">R</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># To find the column (7), we have to think slightly carefully.</span></span>
<span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.3</span><span class="op">)</span></span>
<span><span class="va">R</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">+</span> <span class="va">r</span></span>
<span><span class="va">c7</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fu"><a href="https://rdrr.io/r/base/cumsum.html">cumprod</a></span><span class="op">(</span><span class="va">R</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">c4</span>,<span class="va">c5</span>,<span class="va">c6</span>,<span class="va">c7</span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_table</span></span>
<span><span class="co">#&gt;          c4    c5   c6  c7</span></span>
<span><span class="co">#&gt; [1,] 0.9500 0.000 0.00 0.0</span></span>
<span><span class="co">#&gt; [2,] 1.0450 1.100 0.00 0.0</span></span>
<span><span class="co">#&gt; [3,] 1.2540 1.320 1.20 0.0</span></span>
<span><span class="co">#&gt; [4,] 1.6302 1.716 1.56 1.3</span></span>
<span></span>
<span><span class="co"># Lets rowwise sum with rowSums. Note that "S" is capital letter </span></span>
<span><span class="va">my_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">my_table</span>, <span class="fu"><a href="https://rdrr.io/r/base/colSums.html">rowSums</a></span><span class="op">(</span><span class="va">my_table</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_table</span></span>
<span><span class="co">#&gt;          c4    c5   c6  c7       </span></span>
<span><span class="co">#&gt; [1,] 0.9500 0.000 0.00 0.0 0.9500</span></span>
<span><span class="co">#&gt; [2,] 1.0450 1.100 0.00 0.0 2.1450</span></span>
<span><span class="co">#&gt; [3,] 1.2540 1.320 1.20 0.0 3.7740</span></span>
<span><span class="co">#&gt; [4,] 1.6302 1.716 1.56 1.3 6.2062</span></span></code></pre></div>
<p>We are using two new function cbind() and rowSums(). So let me discuss little bit about that. In R, the cbind() function is used to combine vectors, matrices, or data frames by columns. This function takes as arguments the objects to be combined, and returns a new object containing the combined data. Similar to cbind(), we also have rbind() to combine vectors, matrices, or data frames by rows.</p>
<p>In R, the rowSums() function is used to compute the sum of the values in each row of a matrix or data frame. This function takes as its first argument the matrix or data frame to be summed, and returns a vector containing the row sums. Similar to colSums() to compute the sum of the values in each column of a matrix or data frame</p>
<p>The above example is very manual. Let’s do this using for loop.</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.05</span>, <span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span><span class="op">)</span></span>
<span><span class="va">R</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">+</span><span class="va">r</span></span>
<span><span class="co"># Initialize a list() rather than an atomic vector</span></span>
<span><span class="va">portfolio</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">R</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="co"># Here is the zero vector</span></span>
<span>  <span class="va">zero_vector</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="va">i</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="co"># Here is the vector of cumulative product.</span></span>
<span>  <span class="va">cumprod_vector</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html">cumprod</a></span><span class="op">(</span><span class="va">R</span><span class="op">[</span><span class="va">i</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">R</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># We concatenate the zero and cumulative product vector</span></span>
<span>  <span class="va">my_result</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">zero_vector</span>, <span class="va">cumprod_vector</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Let's put this results into a list.</span></span>
<span>  <span class="va">portfolio</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">my_result</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Print the value of portfolio</span></span>
<span><span class="va">portfolio</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] 0.9500 1.0450 1.2540 1.6302</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] 0.000 1.100 1.320 1.716</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; [1] 0.00 0.00 1.20 1.56</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[4]]</span></span>
<span><span class="co">#&gt; [1] 0.0 0.0 0.0 1.3</span></span></code></pre></div>
<p>We still need to do some more work. We need to column wise bind the results from the list. For this we will use a very powerful function called do.call(). In R, the do.call() function is used to evaluate a function call with arguments given in a list or a data frame. This function takes as its first argument the name of the function to be called, and as its second argument the list or data frame containing the arguments to be passed to the function. Within do.call(), we will use cbind().</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span><span class="op">(</span><span class="va">cbind</span>, <span class="va">portfolio</span><span class="op">)</span></span></code></pre></div>
<p>Lets take the rowSums() and plot the growth of the portfolio.</p>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">portfolio_value</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html">rowSums</a></span><span class="op">(</span><span class="va">my_table</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">portfolio_value</span>, type <span class="op">=</span> <span class="st">"b"</span>, col <span class="op">=</span> <span class="st">"red"</span>, lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-stockmontecarlo_files/figure-html/unnamed-chunk-4-1.png" width="672"></div>
<blockquote>
<p>Case-1: Plot how your 1 dollar recursively invested porfolio grows using the S&amp;P 500 Index Stock Market growth.</p>
</blockquote>
</div>
<div id="case-monte-carlo-simulation-of-stock-market" class="section level2" number="10.2">
<h2>
<span class="header-section-number">10.2</span> Case, monte carlo simulation of stock market<a class="anchor" aria-label="anchor" href="#case-monte-carlo-simulation-of-stock-market"><i class="fas fa-link"></i></a>
</h2>
<blockquote>
<p>Case-2: What past 35 year looked like, it might look different in upcoming future. You decided to remain invested for next 35 years. You don’t know the future sequences of growth or risk. So you can simply randomize the historical sequences. As these returns could occured in any random order. Simulate in 1000 trials R. Show the evolution of the cumulative portfolio value over 35 years.</p>
</blockquote>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="application-4.html#cb68-1" aria-hidden="true" tabindex="-1"></a>snp_ret <span class="ot">&lt;-</span> <span class="fu">c</span>(...)</span>
<span id="cb68-2"><a href="application-4.html#cb68-2" aria-hidden="true" tabindex="-1"></a>portfolio_value <span class="ot">&lt;-</span> ...</span>
<span id="cb68-3"><a href="application-4.html#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(...){</span>
<span id="cb68-4"><a href="application-4.html#cb68-4" aria-hidden="true" tabindex="-1"></a>  r <span class="ot">&lt;-</span> <span class="fu">sample</span>(...)</span>
<span id="cb68-5"><a href="application-4.html#cb68-5" aria-hidden="true" tabindex="-1"></a>  R <span class="ot">&lt;-</span> ...</span>
<span id="cb68-6"><a href="application-4.html#cb68-6" aria-hidden="true" tabindex="-1"></a>  portfolio <span class="ot">&lt;-</span> ...</span>
<span id="cb68-7"><a href="application-4.html#cb68-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(R)){</span>
<span id="cb68-8"><a href="application-4.html#cb68-8" aria-hidden="true" tabindex="-1"></a>    zero_vector <span class="ot">&lt;-</span> ...</span>
<span id="cb68-9"><a href="application-4.html#cb68-9" aria-hidden="true" tabindex="-1"></a>    cumprod_vector <span class="ot">&lt;-</span> ...</span>
<span id="cb68-10"><a href="application-4.html#cb68-10" aria-hidden="true" tabindex="-1"></a>    portfolio[[i]] <span class="ot">&lt;-</span> ...</span>
<span id="cb68-11"><a href="application-4.html#cb68-11" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb68-12"><a href="application-4.html#cb68-12" aria-hidden="true" tabindex="-1"></a>  portfolio_value[[j]] <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(<span class="fu">do.call</span>(..., ...))</span>
<span id="cb68-13"><a href="application-4.html#cb68-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb68-14"><a href="application-4.html#cb68-14" aria-hidden="true" tabindex="-1"></a>portfolio_value <span class="ot">&lt;-</span> <span class="fu">...</span>(..., ...)</span>
<span id="cb68-15"><a href="application-4.html#cb68-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-16"><a href="application-4.html#cb68-16" aria-hidden="true" tabindex="-1"></a><span class="fu">matplot</span>(portfolio_value, <span class="at">type =</span> <span class="st">"l"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html">matplot</a></span><span class="op">(</span><span class="va">portfolio_value</span>, type <span class="op">=</span> <span class="st">"l"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-stockmontecarlo_files/figure-html/unnamed-chunk-7-1.png" width="672"></div>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="application-3.html"><span class="header-section-number">9</span> Application-3</a></div>
<div class="next"><a href="confidence-interval-z-scores-hypothesis-testing.html"><span class="header-section-number">11</span> Confidence interval, z-scores, hypothesis testing</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#application-4"><span class="header-section-number">10</span> Application-4</a></li>
<li><a class="nav-link" href="#case-study-growth-of-portfolio"><span class="header-section-number">10.1</span> Case study, growth of portfolio</a></li>
<li><a class="nav-link" href="#case-monte-carlo-simulation-of-stock-market"><span class="header-section-number">10.2</span> Case, monte carlo simulation of stock market</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/rstudio/bookdown-demo/blob/master/09-stockmontecarlo.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/rstudio/bookdown-demo/edit/master/09-stockmontecarlo.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Mostly Handsdirty Econometrics</strong>" was written by Shishir Shakya. It was last built on 2022-12-13.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
